{"version":3,"file":"static/js/552.d0654811.chunk.js","mappings":"uMA0DA,UAtDe,WAAO,IAAD,EACbA,GAAWC,EAAAA,EAAAA,MACjB,GAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAC3C,GAAwBP,EAAAA,EAAAA,WAAS,WAC/B,OAAOQ,KAAKC,MAAMC,aAAaC,QAAQ,QACxC,IAFD,eAAOC,EAAP,KAAaC,EAAb,MAYAC,EAAAA,EAAAA,YAAU,WACJF,IACFF,aAAaK,QAAQ,OAAQP,KAAKQ,UAAUJ,KAC5CK,EAAAA,EAAAA,IAAYL,GAAMM,MAAK,YAAkB,IAAfjB,EAAc,EAAdA,QACtBC,EAAWD,EACZ,IAEN,GAAE,CAACW,IAKJ,OACE,4BACE,kBAAMO,SAtBW,SAAAC,GACnBA,EAAEC,kBACFJ,EAAAA,EAAAA,IAAYX,GAAOY,MAAK,YAAkB,IAAfjB,EAAc,EAAdA,QACzBC,EAAWD,EACZ,IACDY,EAAQP,EACT,EAgBG,WACE,kBACEgB,KAAK,OACLC,MAAOjB,EACPkB,SAAU,SAAAJ,GAAC,OAVCG,EAUeH,EAAEK,OAAOF,WAT1ClB,EAA0B,KAAVkB,EAAe,CAAEjB,MAAOiB,GAAU,CAAC,GADjC,IAAAA,CAUD,KAEb,mBAAQD,KAAK,SAAb,uBAEDhB,IACC,wBACGL,EAAQyB,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OACX,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,GAAME,MAAO,CAAEC,KAAMjC,GAA1C,SACG6B,KAFIC,EADE,QAWtB,C,uJCxDM,IAAMI,EAAY,SAAAJ,GAAE,OACzBK,MAAM,sCAAD,OACmCL,EADnC,qEAEHV,MAAK,SAAAgB,GAAQ,OAAIA,EAASC,MAAb,GAHU,EAKdC,EAAY,kBACvBH,MAAM,6FAEJf,MAAK,SAAAgB,GAAQ,OAAIA,EAASC,MAAb,GAHQ,EAKZlB,EAAc,SAAAX,GAAK,OAC9B2B,MAAM,2GAAD,OACwG3B,EADxG,gCAEHY,MAAK,SAAAgB,GAAQ,OAAIA,EAASC,MAAb,GAHe,EAKnBE,EAAoB,SAAAT,GAAE,OACjCK,MAAM,sCAAD,OACmCL,EADnC,4DAD4B,EAItBU,EAAe,SAAAV,GAAE,OAC5BK,MAAM,sCAAD,OACmCL,EADnC,4EAEHV,MAAK,SAAAgB,GAAQ,OAAIA,EAASC,MAAb,GAHa,C","sources":["component/Movies/Movies.js","services.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { MoviesFetch } from 'services';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [results, setResults] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const query = searchParams.get('query') ?? '';\n  const [quer, setQuer] = useState(() => {\n    return JSON.parse(localStorage.getItem('quer'));\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    MoviesFetch(query).then(({ results }) => {\n      setResults(results);\n    });\n    setQuer(query);\n  };\n\n  useEffect(() => {\n    if (quer) {\n      localStorage.setItem('quer', JSON.stringify(quer));\n      MoviesFetch(quer).then(({ results }) => {\n          setResults(results);\n        })\n    }\n  }, [quer]);\n  const changeQuery = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={query}\n          onChange={e => changeQuery(e.target.value)}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {query && (\n        <ul>\n          {results.map(({ title, id }) => (\n            <li key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","export const CastFetch = id =>\n  fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US`\n  ).then(response => response.json());\n\nexport const HomeFetch = () =>\n  fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=d8a03c709b4adc0e172e0837e1f73c29`\n  ).then(response => response.json());\n\nexport const MoviesFetch = query =>\n  fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US&query=${query}&page=1&include_adult=false`\n  ).then(response => response.json());\n\nexport const MovieDetailsFetch = id =>\n  fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US`\n  );\nexport const ReviewsFetch = id =>\n  fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US&page=1`\n  ).then(response => response.json());\n"],"names":["location","useLocation","useState","results","setResults","useSearchParams","searchParams","setSearchParams","query","get","JSON","parse","localStorage","getItem","quer","setQuer","useEffect","setItem","stringify","MoviesFetch","then","onSubmit","e","preventDefault","type","value","onChange","target","map","title","id","to","state","from","CastFetch","fetch","response","json","HomeFetch","MovieDetailsFetch","ReviewsFetch"],"sourceRoot":""}