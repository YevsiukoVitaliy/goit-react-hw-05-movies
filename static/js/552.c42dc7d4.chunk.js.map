{"version":3,"file":"static/js/552.c42dc7d4.chunk.js","mappings":"uMA8DA,UA1De,WAAO,IAAD,EACbA,GAAWC,EAAAA,EAAAA,MACjB,GAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAC3C,GAAwBP,EAAAA,EAAAA,WAAS,WAC/B,OAAOQ,KAAKC,MAAMC,aAAaC,QAAQ,QACxC,IAFD,eAAOC,EAAP,KAAaC,EAAb,MAcAC,EAAAA,EAAAA,YAAU,WACJF,IACFF,aAAaK,QAAQ,OAAQP,KAAKQ,UAAUJ,KAC5CK,EAAAA,EAAAA,IAAYL,GAAMM,MAAK,SAAAC,GAAQ,OAC7BA,EAASC,OAAOF,MAAK,YAAkB,IAAfjB,EAAc,EAAdA,QACtBC,EAAWD,EACZ,GAH4B,IAMlC,GAAE,CAACW,IAKJ,OACE,4BACE,kBAAMS,SA1BW,SAAAC,GACnBA,EAAEC,kBACFN,EAAAA,EAAAA,IAAYX,GAAOY,MAAK,SAAAC,GAAQ,OAC9BA,EAASC,OAAOF,MAAK,YAAkB,IAAfjB,EAAc,EAAdA,QACtBC,EAAWD,EACZ,GAH6B,IAKhCY,EAAQP,EACT,EAkBG,WACE,kBACEkB,KAAK,OACLC,MAAOnB,EACPoB,SAAU,SAAAJ,GAAC,OAVCG,EAUeH,EAAEK,OAAOF,WAT1CpB,EAA0B,KAAVoB,EAAe,CAAEnB,MAAOmB,GAAU,CAAC,GADjC,IAAAA,CAUD,KAEb,mBAAQD,KAAK,SAAb,uBAEDlB,IACC,wBACGL,EAAQ2B,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OACX,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,GAAME,MAAO,CAAEC,KAAMnC,GAA1C,SACG+B,KAFIC,EADE,QAWtB,C,uJC5DM,IAAMI,EAAY,SAAAJ,GAAE,OACzBK,MAAM,sCAAD,OACmCL,EADnC,oEADoB,EAKdM,EAAY,kBACvBD,MAAM,4FADiB,EAKZlB,EAAc,SAAAX,GAAK,OAC9B6B,MAAM,2GAAD,OACwG7B,EADxG,+BADyB,EAKnB+B,EAAoB,SAAAP,GAAE,OACjCK,MAAM,sCAAD,OACmCL,EADnC,4DAD4B,EAItBQ,EAAe,SAAAR,GAAE,OAC5BK,MAAM,sCAAD,OACmCL,EADnC,2EADuB,C","sources":["component/Movies/Movies.js","services.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { MoviesFetch } from 'services';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [results, setResults] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const query = searchParams.get('query') ?? '';\n  const [quer, setQuer] = useState(() => {\n    return JSON.parse(localStorage.getItem('quer'));\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    MoviesFetch(query).then(response =>\n      response.json().then(({ results }) => {\n        setResults(results);\n      })\n    );\n    setQuer(query);\n  };\n\n  useEffect(() => {\n    if (quer) {\n      localStorage.setItem('quer', JSON.stringify(quer));\n      MoviesFetch(quer).then(response =>\n        response.json().then(({ results }) => {\n          setResults(results);\n        })\n      );\n    }\n  }, [quer]);\n  const changeQuery = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={query}\n          onChange={e => changeQuery(e.target.value)}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {query && (\n        <ul>\n          {results.map(({ title, id }) => (\n            <li key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","export const CastFetch = id =>\n  fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US`\n  );\n\nexport const HomeFetch = () =>\n  fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=d8a03c709b4adc0e172e0837e1f73c29`\n  );\n\nexport const MoviesFetch = query =>\n  fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n\nexport const MovieDetailsFetch = id =>\n  fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US`\n  );\nexport const ReviewsFetch = id =>\n  fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US&page=1`\n  );\n"],"names":["location","useLocation","useState","results","setResults","useSearchParams","searchParams","setSearchParams","query","get","JSON","parse","localStorage","getItem","quer","setQuer","useEffect","setItem","stringify","MoviesFetch","then","response","json","onSubmit","e","preventDefault","type","value","onChange","target","map","title","id","to","state","from","CastFetch","fetch","HomeFetch","MovieDetailsFetch","ReviewsFetch"],"sourceRoot":""}