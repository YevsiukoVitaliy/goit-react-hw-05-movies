"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[552],{552:function(e,t,n){n.r(t);var r=n(885),c=n(791),i=n(871),u=n(501),a=n(221),o=n(184);t.default=function(){var e,t=(0,i.TH)(),n=(0,c.useState)([]),f=(0,r.Z)(n,2),s=f[0],h=f[1],l=(0,u.lr)(""),d=(0,r.Z)(l,2),v=d[0],p=d[1],g=null!==(e=v.get("query"))&&void 0!==e?e:"",m=(0,c.useState)((function(){return JSON.parse(localStorage.getItem("quer"))})),b=(0,r.Z)(m,2),_=b[0],S=b[1];(0,c.useEffect)((function(){_&&(localStorage.setItem("quer",JSON.stringify(_)),(0,a.Ut)(_).then((function(e){return e.json().then((function(e){var t=e.results;h(t)}))})))}),[_]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(0,a.Ut)(g).then((function(e){return e.json().then((function(e){var t=e.results;h(t)}))})),S(g)},children:[(0,o.jsx)("input",{type:"text",value:g,onChange:function(e){return t=e.target.value,void p(""!==t?{query:t}:{});var t}}),(0,o.jsx)("button",{type:"submit",children:"Search"})]}),g&&(0,o.jsx)("ul",{children:s.map((function(e){var n=e.title,r=e.id;return(0,o.jsx)("li",{children:(0,o.jsx)(u.rU,{to:"/movies/".concat(r),state:{from:t},children:n})},r)}))})]})}},221:function(e,t,n){n.d(t,{DU:function(){return r},Ut:function(){return i},ZJ:function(){return u},il:function(){return c},zT:function(){return a}});var r=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US"))},c=function(){return fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=d8a03c709b4adc0e172e0837e1f73c29")},i=function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US&query=".concat(e,"&page=1&include_adult=false"))},u=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US"))},a=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=d8a03c709b4adc0e172e0837e1f73c29&language=en-US&page=1"))}}}]);
//# sourceMappingURL=552.c42dc7d4.chunk.js.map